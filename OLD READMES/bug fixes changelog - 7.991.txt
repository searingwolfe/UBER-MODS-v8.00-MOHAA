v7.991 (8-3-2025): - New Weather Mod created (global/weather.scr).

- This mod can create weather on any map. Much better rain sounds: interior/exterior, plant, near puddle, under roof, random location thunder sounds.
- Available weather types (add more or modify as needed in the script's switch statement):

- "snow", "snow_fast", "blizzard", "hail", "snow_original", "rain", "drizzle", "monsoon", "rain_original", "0" or "off".

- Change the weather anytime with the "cg_weather" cvar. Example: "cg_weather rain" in console.
- Turn on/off thunder anytime with the "cg_thunder" cvar. Example: "cg_thunder 1" in console.

---------------

- To use this mod, add "exec global/weather.scr" to any map .scr script after "level waittill prespawn" with given parameters below.

- The 2 original weathers have the exact values given to the game's original "snow" and "rain".
- If the "thunder" parameter = 1, the sky will occasionally flash white and thunder sounds will play.
- Adjust the max volume (i.e. half volume) by setting the "weather volume" parameter to 0.5, or set "level.weather_sound = 0.5" instead of 1.

- Parameters: weather type, thunder (0 or NIL = no, 1 = yes), weather volume (1 = max), spawn func_rain entities (1 or NIL = yes, 0 = no).
- Example: exec global/weather.scr "snow"
- Example: exec global/weather.scr "snow_fast" 0
- Example: exec global/weather.scr "rain" 1 0.8
- Example: exec global/weather.scr "snow_fast" 0 1 0 // m6l1b

- Set the "spawn_funcrain" parameter to 0 to prevent spawning in "func_rain" entities,
- only use this if there's already "Rain" classname entities/brushes on the map, and if the script's "func_rain" entities are causing weather to not appear fast enough.

---------------

- In order to have more dynamic weather sounds in custom maps, 2 level variable arrays must be created:
- level.interior_volumes (array of interior ambience volumes), level.water_volumes (array of water volumes).

- The level.variables above have already been created for all fully modded maps (latest UBER MODS version).
- See "ambience" & "water_volumes" threads in each map's .scr

- Without ambience volumes, the weather will not play any interior sounds.
- Without water volumes, the weather will not play any exterior water droplet sounds.

- level.map_height, level_map_setsize1 & level.map_setsize2 are all auto-created by the script if they don't exist already.
- These variables control randomized location for thunder sounds, and allow under-roof rain sounds that play if not near the map's skybox ceiling.

- If playing singleplayer or if there's only 1 player in a server, the weather will turn off/on while going inside/outside ambience volumes.

---------------

- NOTE: if the map's height is very high and the weather has a slow "cg_rain_speed" value (such as snow),
- players will not see the weather falling down in time if they are traveling fast across the map.
- In this case (i.e. maps m6l1a & m6l1b), do not run "removeclass Rain", but instead keep them to help the map spawn weather particles further below the map's height.
- Set "spawn func_rain entities" parameter to 0 if the script's ents cause weather to spawn too high up, too slow, etc (i.e. map m6l1b).

---------------

- Example "level.interior_volumes" from m6l1a for interior sounds: // these are found in the "weather" folder. For custom maps, a new [mapname].txt file must be made in this folder.

	level.interior_volumes = makeArray
		( -1007 5663 5583 ) ( 0 -104 -191 ) ( 287 0 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3 // origin, setsize1, setsize2, music filepath.
		( -700 5559 5583 ) ( -325 -160 -191 ) ( 0 0 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3 // make sure interior_volumes volumes with different sounds are not overlapping.
		( -717 5399 5583 ) ( -293 -30 -191 ) ( 0 0 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3
		( -747 5369 5583 ) ( -233 -30 -191 ) ( 0 0 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3

		( -2128 -143 5583 ) ( -287 0 -191 ) ( 0 104 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3
		( -2435 -39 5583 ) ( 0 0 -191 ) ( 325 160 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3
		( -2418 121 5583 ) ( 0 0 -191 ) ( 293 30 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3
		( -2388 151 5583 ) ( 0 0 -191 ) ( 233 30 0 ) sound/amb_stereo/Amb_M6_BunkerInt_01.mp3
	endArray
	exec global/ambience_mp.scr sound/amb_stereo/Amb_M6_WoodsExt_02.mp3 1 // 0 = no, 1 = keep players' music volume at max.



- Example "level.water_volumes" from m5l2b for water sounds:

	level.water_volumes = makeArray
		( -152 -6976 -232 ) ( 0 0 -1000 ) ( 6936 768 0 )
	endArray


---------------
---------------
---------------

- For Reborn version of Base-Builder UBER only ("g_ubergametype bb"): changed Builder Remover Laser from an entity-pointer to a proximity-pointer, to allow players to pick up their own non-solid objects.
- Lean Left/Right to activate the Builder Remover Laser, Hold USE(e) + FIRE to find your nearest object/lift/tele, then Hold FIRE(zoom) to pick up your object.

- Players in Freeze Tag UBER ("g_ubergametype ft") will now auto-melt their teammates if standing near their frozen bodies (same as original Freeze Tag).
- Players that get melted/revived in Cyber Attack UBER ("g_ubergametype cyb") will now face the same yaw-angle that they were looking at when frozen/died.

- The stufftext hack detection script in cvars/adminstuff.scr now waits 2 extra seconds after a player joins before beginning the stufftext test, and waits 5 seconds of "level.time" after the map begins.
- This should help avoid false positives caused by players pressing the "score" (Tab) button immediately when joining, kicking them for failing the test when they should've passed.

- Slowed down the updating of a player's health/jetpack fuel secondary HUD meter to 2x per second for drivable vehicles/boats/tanks, jetpacks, and guided missiles.
- Without this, the server could crash trying to send stufftexts to update the player's 2nd HUD meter if that player's game crashed, but the in-game player somehow did not leave the server.

- Fixed Assisted Suicides mod that allowed players to get score for an enemy's death that they shot at a long time ago, since the script wasn't clearing some player variables.
- Players can no longer get illuminated by the same spotlight that they are currently using.
- Fixed global/respawn_stuck_fix.scr to stop running dozens of times for one player respawn iteration.

- The "players" cvar & "entities" cvar will now print players' clientnums along with their $player[index] number & netname.
- Added $world "farplane", "farplane_color", and "farplane_cull" data when using the "find" cvar to find "$world" (i.e. "find world" in console).
- Reduced farplane fog in M5L3 from 6500 to 4500 to reduce FPS lag and/or high ping from some players.
- Fixed some ambience volumes in M5L1B.

- Added "rain" weather with thunder in maps: M5L1A, M5L1B, M5L2A, M5L2B.
- Added "snow_fast" weather in DM/MOHDM5 (Snowy Park), M6L1A, M6L1B.
- Moved all "ambience" and "water_volumes" threads into a new "weather" folder with [mapname].txt files for each map (each containing "level.interior_volumes" & "level.water_volumes" arrays).

---------------

- The server auto-reopen .bat script for Windows will now also reopen the server if a DLL initialization routine failed, or simply failed to load while switching maps.
- The Windows and older Linux .bat scripts are only available from xNULL website's version of UBER MODS download (newer Linux scripts coming soon).

---------------

- M6L1A fully modded. 7 drivable vehicles, 9 nebelwerfers, 2 flak88s added to the map.
- 2 sets of bangalore wall bombs triggered by alarm switches, 3 sets of bangalore wall bombs triggered by detonators.

- 2 20mm turrets can be blown up with grenades.
- Invisible walls block off the map's outer border (no teles added to go behind them) since players can shoot through these walls from the outside edges of the map.

---------------

- M6L1B fully modded. 8 drivable vehicles, 8 nebelwerfers, 4 flak88s added to the map.
- 2 sets of bangalore wall bombs triggered by alarm switches, 1 set of bangalore wall bombs triggered by a detonator.
- 1 20mm turret can be blown up with grenades.
- Invisible walls block off the map's outer border (no teles added to go behind them) since players can shoot through these walls from the outside edges of the map.

- White lasers added behind the Allies spawn outlining the invisible wall that blocks off the rest of Allies spawn. Shooting this wall will make the lasers flash brighter.
- A radio can play music or static sounds by pressing USE(e) near it.
- The nearby water droplets sound entity has a valve switch next to it. This valve can turn on/off "steam control", causing steam to emit from the metal pipe and grow/shrink in scale.

- Any mortar_dirt_explosions from Giant Bombs, airstrike bombs, vehicle/turret explosions, etc. that explode on top of the large central bunker will cause bunker dust to emit from the ceiling.
- An invisible ladder allows players to climb the telephone pole near the large central bunker.

<><><> <><><>